{{ block title }}
    Part 2: Games 1, 2, and 3
{{ endblock }}
{{ block content }}

    <head>
    <style>
    h2 {text-align: center;}
    datalist {
      display: flex;
      justify-content: space-between;
      color: black;
      width: 70%;
    }
    input{
        width: 70%;
    }
    .slider {
    margin-left: 5%;
    margin-right: 2%;
    width: 78%;
    }
    td {
    padding: 2% 2% 0% 0%;
    }
    </style>
    </head>

    <h2>Review Questionnaire </h2>

    {{ formfield 'ans1' label="1. Please describe the decision-making process you used in Game 3? (2-4 sentences)" }}

    <br>
    <p> 2. Please answer the following questions by pointing the slider to the point that best reflects
        your <b> beliefs prior to making any choice in the interaction </b> about behavior of the
    individual with whom you were randomly paired for this interaction: </p>

    <input type='hidden' name='ans2a' id='ans2a' value=0/>
    <input type='hidden' name='ans2b' id='ans2b' value=0 />
    <input type='hidden' name='ans2c' id='ans2c' value=0 />

    <table>
      <tr>
        <td style="width:60%"> I expected that if I continued at turn 1 then RED/BLUE would continue at turn 2
    with probability </td>
        <td> <input type="range" id="ans2a_visible" min="0" max="100" value="0" class="slider" oninput="updateQ2a(this)">
        <label><span id="ans2a_visible_label">  0 </span></label> <br> </td>
      </tr>
      <tr>
        <td>I expected that if I continued at turns 1 and 3 and RED/BLUE continued at turn 2,
    then RED/BLUE would continue in turn 4 with probability:</td>
        <td> <input type="range" id="ans2b_visible" min="0" max="100" value="0" class="slider" oninput="updateQ2b(this)">
        <label><span id="ans2b_visible_label">  0 </span></label> <br> </td>
      </tr>
      <tr>
        <td>I expected that if I continued at turns 1, 3 and 5 and RED/BLUE continued at
    turns 2 and 4, then RED/BLUE would continue at turn 6 with probability:</td>
        <td><input type="range" id="ans2c_visible" min="0" max="100" value="0" class="slider" oninput="updateQ2c(this)">
        <label><span id="ans2c_visible_label">  0 </span></label> <br></td>
      </tr>
      <tr>
        <td></td>
        <td> <span id="warning_text" style="float: left;padding-left:6%;width:70%"> Total must add up to 100% </span> <label style="margin-left:16%"><span id="ans2total">  0 </span></label> <br></td>
      </tr>
    </table>

    <br>

    {{ formfield 'ans3' label="3. What decision-making process did you expect the other participant to follow, and did they play like you expected them to? (1-3 sentences)" }}
    <br>

    <input type='hidden' name='ans4' id='ans4' value=5 />
    <label for="ans4">4. Did you see the other participant primarily as a teammate or an opponent? </label><br>
    <input type="range" id="ans4_visible" min="0" max="10" list="tickmarksQ4" oninput="updateQ4(this)"> <br>

    <datalist id="tickmarksQ4">
      <option value=0 label="Teammate"></option>
      <option value=1></option>
      <option value=2></option>
      <option value=3></option>
      <option value=4></option>
      <option value=5 label="Even mix"></option>
      <option value=6></option>
      <option value=7></option>
      <option value=8></option>
      <option value=9></option>
      <option value=10 label="Opponent"></option>
    </datalist>

    <br>
    {{ formfield_errors "ans4" }}

    {{ if not participant.control }}
        <input type='hidden' name='ans5' id='ans5' value=5 />
        <label for="ans5">5. Did learning the IQ of the other participant effect the way you approached your strategy? </label><br>
        <input type="range" id="ans5_visible" min="0" max="10" list="tickmarksQ5" oninput="updateQ5(this)"> <br>

        <datalist id="tickmarksQ5">
          <option value=0 label="Not at all"></option>
          <option value=1></option>
          <option value=2></option>
          <option value=3></option>
          <option value=4></option>
          <option value=5 label="Some"></option>
          <option value=6></option>
          <option value=7></option>
          <option value=8></option>
          <option value=9></option>
          <option value=10 label="Massively"></option>
        </datalist>
        {{ formfield_errors 'ans5' }}

        {{ formfield 'ans6' label="6. Why or why not? (1-3 sentences)" }}

        <script>
        function updateQ5(input) {
            let value = parseInt(input.value);
            document.getElementById('ans5').value = value;
        }
        </script>
    {{ endif }}


    <script>
        function updateQ2a(input) {
            let value = parseInt(input.value) + "%";
            document.getElementById('ans2a').value = parseInt(input.value);
            document.getElementById('ans2a_visible_label').innerHTML = value;
            updateQ2total();
        }
        function updateQ2b(input) {
            let value = parseInt(input.value) + "%";
            document.getElementById('ans2b').value = parseInt(input.value);
            document.getElementById('ans2b_visible_label').innerHTML = value;
            updateQ2total();
        }
        function updateQ2c(input) {
            let value = parseInt(input.value) + "%";
            document.getElementById('ans2c').value = parseInt(input.value);
            document.getElementById('ans2c_visible_label').innerHTML = value;
            updateQ2total();
        }
        function updateQ2total() {
            let total = parseInt(document.getElementById('ans2a').value) + parseInt(document.getElementById('ans2b').value) + parseInt(document.getElementById('ans2c').value);
            document.getElementById('ans2total').innerHTML = parseInt(total) + "%";
            if(total!=100){
                document.getElementById('ans2total').style.color="red";
                document.getElementById('warning_text').style.color="red";
            }
            else {
                document.getElementById('ans2total').style.color="green";
                document.getElementById('warning_text').style.color="green";
            }
        }

        function updateQ4(input) {
            let value = parseInt(input.value);
            document.getElementById('ans4').value = value;
        }

    </script>


    <button class = 'otree-btn-next btn btn-primary' id='next' style='visibility: visible'>
        Next
    </button>


{{ endblock }}

